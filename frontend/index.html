<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ - –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –ú–æ—Å–∫–≤—ã</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // API configuration - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ URL
        const API_BASE_URL = 'https://transportation-innovations-mosco-scout.onrender.com/api';

        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
        const –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ = ["–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–§–∏–Ω—Ç–µ—Ö", "–ú–µ–¥—Ç–µ—Ö", "–ì–æ—Å—Ç–µ—Ö"];
        const —Ç–∏–ø—ã–ü—Ä–æ–¥—É–∫—Ç–æ–≤ = ["–°–æ—Ñ—Ç", "–ñ–µ–ª–µ–∑–æ", "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", "–í–µ–±"];
        const –º–æ–¥–µ–ª–∏–ü—Ä–æ–¥–∞–∂ = ["B2B", "B2C", "B2B2C"];
        const —Å—Ç–∞–¥–∏–∏–ü—Ä–æ–¥—É–∫—Ç–∞ = ["–ò–¥–µ—è", "MVP", "–†–∞–±–æ—Ç–∞–µ—Ç", "–†–æ—Å—Ç", "–ó—Ä–µ–ª–æ—Å—Ç—å"];
        const —Ü–µ–ª–µ–≤—ã–µ–°–µ–≥–º–µ–Ω—Ç—ã = [
            "–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –º–µ—Ç—Ä–æ", "–ù–∞–∑–µ–º–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ü–∞—Ä–∫–æ–≤–∫–∏", 
            "–¶–µ–Ω—Ç—Ä ITS", "–ü–∞—Å—Å–∞–∂–∏—Ä—ã", "B2G", "B2B"
        ];

        // –í–µ—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
        const –≤–µ—Å–∞–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏ = {
            –ø—Ä–æ–¥—É–∫—Ç: 2, —Ä—ã–Ω–æ–∫: 2, –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: 1, —Ç—Ä–µ–∫—à–Ω: 2,
            –∫–æ–º–∞–Ω–¥–∞: 4, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: 1, —Ñ–∏–Ω–∞–Ω—Å—ã: 1, —Å–¥–µ–ª–∫–∞: 1
        };
        const –º–∞–∫—Å–ë–∞–ª–ª–ü–æ—Å–ª–µMVP = 28;

        // API service
        const api = {
            async getProjects() {
                const response = await axios.get(`${API_BASE_URL}/projects`);
                return response.data;
            },
            async getProject(id) {
                const response = await axios.get(`${API_BASE_URL}/projects/${id}`);
                return response.data;
            },
            async createProject(projectData) {
                const response = await axios.post(`${API_BASE_URL}/projects`, projectData);
                return response.data;
            },
            async updateProject(id, projectData) {
                const response = await axios.put(`${API_BASE_URL}/projects/${id}`, projectData);
                return response.data;
            },
            async deleteProject(id) {
                await axios.delete(`${API_BASE_URL}/projects/${id}`);
            },
            async healthCheck() {
                try {
                    const response = await axios.get(`${API_BASE_URL}/health`);
                    return response.data.status === 'OK';
                } catch (error) {
                    return false;
                }
            }
        };

        function App() {
            const [activeTab, setActiveTab] = useState("new");
            const [expandedSections, setExpandedSections] = useState({
                A: true, B: true, C: true, D: true, E: true, F: false, G: false, H: false
            });
            const [projects, setProjects] = useState([]);
            const [loading, setLoading] = useState(false);
            const [backendStatus, setBackendStatus] = useState('checking');
            const [currentProjectId, setCurrentProjectId] = useState(null);

            // Section A state
            const [projectCard, setProjectCard] = useState({
                projectName: "", legalName: "", website: "", contactPerson: "",
                email: "", phone: "", industry: "", productType: "", salesModel: "",
                productStage: "", targetSegments: []
            });

            // Section B state
            const [filters, setFilters] = useState({
                —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–°–µ–∫—Ç–æ—Ä–∞–º: false, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º: false, –º–∏–Ω–ö–æ–º–∞–Ω–¥–∞: false
            });
            const [redFlags, setRedFlags] = useState({
                missingDocs: false, outOfFocusIndustry: false, foundersNotFulltime: false,
                keyCompetencesMissing: false, unusualOwnership: false, shortRunway: false,
                processesOutsourced: false, otherFlag: false, otherText: ""
            });

            // Section C: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
            const [–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞, set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞] = useState({
                –ø—Ä–æ–¥—É–∫—Ç: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, —Ä—ã–Ω–æ–∫: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, —Ç—Ä–µ–∫—à–Ω: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                –∫–æ–º–∞–Ω–¥–∞: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                —Ñ–∏–Ω–∞–Ω—Å—ã: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, —Å–¥–µ–ª–∫–∞: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }
            });

            // Section D: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
            const [—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞, set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞] = useState({
                –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –∫–∞–Ω–∞–ª—ã: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –∫–æ–º–∞–Ω–¥–∞: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }
            });

            // Section E: —Ä–µ—à–µ–Ω–∏–µ
            const [overrideDecision, setOverrideDecision] = useState("");
            const [overrideComment, setOverrideComment] = useState("");

            // Section F: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ
            const [–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ, set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ] = useState({
                —Å–¥–µ–ª–∫–∞: "", –ø—Ä–æ–¥—É–∫—Ç: "", —Ä—ã–Ω–æ–∫: "", –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: "", —Ç—Ä–µ–∫—à–Ω: "",
                –∫–æ–º–∞–Ω–¥–∞: "", –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: "", —Ñ–∏–Ω–∞–Ω—Å—ã: "", –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–†–µ–∑—é–º–µ: "",
                –∏–Ω–Ω–ü—Ä–æ–≤–µ—Ä–∫–∞: false, –∑–∞–º–µ—Ç–∫–∏–ü–æ–ò–ù–ù: ""
            });

            // Section G: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å
            const [—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ, set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ] = useState({
                useCases: "", integrationInfra: "", effectsKpis: "", regulationSafety: "",
                pilotPlan: "", pilotRecommendation: ""
            });

            // Section H: —Å–≤–æ–¥–∫–∞
            const [—Å–≤–æ–¥–∫–∞, set–°–≤–æ–¥–∫–∞] = useState({
                –∫—Ä–∞—Ç–∫–æ–µ–û–ø–∏—Å–∞–Ω–∏–µ: "",
                —Å–∏–ª—å–Ω—ã–µ–°—Ç–æ—Ä–æ–Ω—ã: ["–°–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞", "–ß–µ—Ç–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞", "–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É"],
                –æ—Å–Ω–æ–≤–Ω—ã–µ–†–∏—Å–∫–∏: ["–ù–µ–ø–æ–Ω—è—Ç–Ω–∞—è —é–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞", "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ç—Ä–µ–∫—à–Ω", "–†–∏—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"],
                —Ñ–∏–Ω–∞–ª—å–Ω–∞—è–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: "–¢—Ä–µ–±—É–µ—Ç –æ—Ü–µ–Ω–∫–∏"
            });

            // Check backend status on component mount
            useEffect(() => {
                checkBackendStatus();
                loadProjects();
            }, []);

            const checkBackendStatus = async () => {
                const isHealthy = await api.healthCheck();
                setBackendStatus(isHealthy ? 'connected' : 'disconnected');
            };

            const loadProjects = async () => {
                setLoading(true);
                try {
                    const data = await api.getProjects();
                    setProjects(data);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤:', error);
                } finally {
                    setLoading(false);
                }
            };

            const saveProject = async () => {
                if (!projectCard.projectName.trim()) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞');
                    return;
                }

                setLoading(true);
                try {
                    const projectData = {
                        name: projectCard.projectName,
                        industry: projectCard.industry,
                        –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞: –∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–ø—Ä–æ—Ü–µ–Ω—Ç,
                        —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞: –∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏,
                        status: –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ–†–µ—à–µ–Ω–∏–µ,
                        projectCard, filters, redFlags, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞,
                        overrideDecision, overrideComment, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ,
                        —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ, —Å–≤–æ–¥–∫–∞
                    };

                    let savedProject;
                    if (currentProjectId) {
                        savedProject = await api.updateProject(currentProjectId, projectData);
                        setProjects(projects.map(p => p.id === currentProjectId ? savedProject : p));
                    } else {
                        savedProject = await api.createProject(projectData);
                        setProjects([...projects, savedProject]);
                        setCurrentProjectId(savedProject.id);
                    }

                    alert(`–ü—Ä–æ–µ–∫—Ç "${savedProject.name}" —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!`);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:', error);
                    alert('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
                } finally {
                    setLoading(false);
                }
            };

            const loadProject = async (projectId) => {
                setLoading(true);
                try {
                    const project = await api.getProject(projectId);
                    
                    setProjectCard(project.projectCard || {});
                    setFilters(project.filters || {});
                    setRedFlags(project.redFlags || {});
                    set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞(project.–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞ || {});
                    set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞(project.—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞ || {});
                    setOverrideDecision(project.overrideDecision || "");
                    setOverrideComment(project.overrideComment || "");
                    set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ(project.–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ || {});
                    set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ(project.—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ || {});
                    set–°–≤–æ–¥–∫–∞(project.—Å–≤–æ–¥–∫–∞ || {});
                    
                    setCurrentProjectId(projectId);
                    setActiveTab('new');
                    
                    alert(`–ü—Ä–æ–µ–∫—Ç "${project.name}" —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!`);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:', error);
                    alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
                } finally {
                    setLoading(false);
                }
            };

            const deleteProject = async (projectId, projectName) => {
                if (!confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç "${projectName}"?`)) return;

                setLoading(true);
                try {
                    await api.deleteProject(projectId);
                    setProjects(projects.filter(p => p.id !== projectId));
                    
                    if (currentProjectId === projectId) {
                        resetForm();
                    }
                    
                    alert(`–ü—Ä–æ–µ–∫—Ç "${projectName}" —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!`);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:', error);
                    alert('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
                } finally {
                    setLoading(false);
                }
            };

            const resetForm = () => {
                setProjectCard({
                    projectName: "", legalName: "", website: "", contactPerson: "",
                    email: "", phone: "", industry: "", productType: "", salesModel: "",
                    productStage: "", targetSegments: []
                });
                setFilters({ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–°–µ–∫—Ç–æ—Ä–∞–º: false, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º: false, –º–∏–Ω–ö–æ–º–∞–Ω–¥–∞: false });
                setRedFlags({
                    missingDocs: false, outOfFocusIndustry: false, foundersNotFulltime: false,
                    keyCompetencesMissing: false, unusualOwnership: false, shortRunway: false,
                    processesOutsourced: false, otherFlag: false, otherText: ""
                });
                set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞({
                    –ø—Ä–æ–¥—É–∫—Ç: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, —Ä—ã–Ω–æ–∫: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                    –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, —Ç—Ä–µ–∫—à–Ω: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                    –∫–æ–º–∞–Ω–¥–∞: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                    —Ñ–∏–Ω–∞–Ω—Å—ã: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, —Å–¥–µ–ª–∫–∞: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }
                });
                set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞({
                    –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –∫–∞–Ω–∞–ª—ã: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                    –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" },
                    –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }, –∫–æ–º–∞–Ω–¥–∞: { –±–∞–ª–ª: null, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "" }
                });
                setOverrideDecision("");
                setOverrideComment("");
                set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ({
                    —Å–¥–µ–ª–∫–∞: "", –ø—Ä–æ–¥—É–∫—Ç: "", —Ä—ã–Ω–æ–∫: "", –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: "", —Ç—Ä–µ–∫—à–Ω: "",
                    –∫–æ–º–∞–Ω–¥–∞: "", –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: "", —Ñ–∏–Ω–∞–Ω—Å—ã: "", –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–µ–†–µ–∑—é–º–µ: "",
                    –∏–Ω–Ω–ü—Ä–æ–≤–µ—Ä–∫–∞: false, –∑–∞–º–µ—Ç–∫–∏–ü–æ–ò–ù–ù: ""
                });
                set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ–ó–∞–∫–ª—é—á–µ–Ω–∏–µ({
                    useCases: "", integrationInfra: "", effectsKpis: "", regulationSafety: "",
                    pilotPlan: "", pilotRecommendation: ""
                });
                set–°–≤–æ–¥–∫–∞({
                    –∫—Ä–∞—Ç–∫–æ–µ–û–ø–∏—Å–∞–Ω–∏–µ: "",
                    —Å–∏–ª—å–Ω—ã–µ–°—Ç–æ—Ä–æ–Ω—ã: ["–°–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞", "–ß–µ—Ç–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞", "–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É"],
                    –æ—Å–Ω–æ–≤–Ω—ã–µ–†–∏—Å–∫–∏: ["–ù–µ–ø–æ–Ω—è—Ç–Ω–∞—è —é–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞", "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ç—Ä–µ–∫—à–Ω", "–†–∏—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"],
                    —Ñ–∏–Ω–∞–ª—å–Ω–∞—è–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: "–¢—Ä–µ–±—É–µ—Ç –æ—Ü–µ–Ω–∫–∏"
                });
                setCurrentProjectId(null);
            };

            const toggleSection = (key) => {
                setExpandedSections((prev) => ({ ...prev, [key]: !prev[key] }));
            };

            const handleProjectCardChange = (field, value) => {
                setProjectCard((prev) => ({ ...prev, [field]: value }));
            };

            const handleTargetSegmentToggle = (segment) => {
                setProjectCard((prev) => {
                    const exists = prev.targetSegments.includes(segment);
                    if (exists) {
                        return {
                            ...prev,
                            targetSegments: prev.targetSegments.filter((s) => s !== segment),
                        };
                    }
                    return {
                        ...prev,
                        targetSegments: [...prev.targetSegments, segment],
                    };
                });
            };

            const handleFilterChange = (field) => {
                setFilters((prev) => ({ ...prev, [field]: !prev[field] }));
            };

            const handleRedFlagChange = (field, value) => {
                setRedFlags((prev) => ({ ...prev, [field]: value }));
            };

            const handle–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞Change = (key, –±–∞–ª–ª) => {
                set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞((prev) => ({
                    ...prev,
                    [key]: { ...prev[key], –±–∞–ª–ª },
                }));
            };

            const handle–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–πChange = (key, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) => {
                set–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞((prev) => ({
                    ...prev,
                    [key]: { ...prev[key], –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π },
                }));
            };

            const handle–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞Change = (key, –±–∞–ª–ª) => {
                set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞((prev) => ({
                    ...prev,
                    [key]: { ...prev[key], –±–∞–ª–ª },
                }));
            };

            const handle–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–πChange = (key, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) => {
                set–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞((prev) => ({
                    ...prev,
                    [key]: { ...prev[key], –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π },
                }));
            };

            const hasRedFlags = Object.keys(redFlags)
                .filter((k) => k !== "otherText")
                .some((k) => redFlags[k]) || false;

            const admittedToEvaluation = filters.—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–°–µ–∫—Ç–æ—Ä–∞–º &&
                filters.—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º &&
                filters.–º–∏–Ω–ö–æ–º–∞–Ω–¥–∞ &&
                !hasRedFlags;

            const –∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏ = useMemo(() => {
                let –∏—Ç–æ–≥–æ–í–∑–≤–µ—à–µ–Ω–Ω—ã–π = 0;
                let –º–∞–∫—Å–ò—Ç–æ–≥ = –º–∞–∫—Å–ë–∞–ª–ª–ü–æ—Å–ª–µMVP;
                Object.entries(–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞).forEach(([key, value]) => {
                    const –≤–µ—Å = –≤–µ—Å–∞–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏[key];
                    if (value.–±–∞–ª–ª !== null && typeof –≤–µ—Å === 'number') {
                        –∏—Ç–æ–≥–æ–í–∑–≤–µ—à–µ–Ω–Ω—ã–π += value.–±–∞–ª–ª * –≤–µ—Å;
                    }
                });
                const –ø—Ä–æ—Ü–µ–Ω—Ç = –º–∞–∫—Å–ò—Ç–æ–≥ > 0 ? Math.round((–∏—Ç–æ–≥–æ–í–∑–≤–µ—à–µ–Ω–Ω—ã–π / –º–∞–∫—Å–ò—Ç–æ–≥) * 100) : 0;
                return { –∏—Ç–æ–≥–æ–í–∑–≤–µ—à–µ–Ω–Ω—ã–π, –ø—Ä–æ—Ü–µ–Ω—Ç, –º–∞–∫—Å–ò—Ç–æ–≥ };
            }, [–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞]);

            const –∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏ = useMemo(() => {
                let –∏—Ç–æ–≥–æ = 0;
                Object.values(—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞).forEach((entry) => {
                    if (entry.–±–∞–ª–ª !== null) {
                        –∏—Ç–æ–≥–æ += entry.–±–∞–ª–ª;
                    }
                });
                return –∏—Ç–æ–≥–æ;
            }, [—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞]);

            const helperSuggestion = useMemo(() => {
                const aScore = –∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–ø—Ä–æ—Ü–µ–Ω—Ç;
                const bScore = –∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏;
                if (aScore >= 55 && bScore >= 6) {
                    return "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–π –æ—Ü–µ–Ω–∫–µ (–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –ø–∏–ª–æ—Ç).";
                }
                if (aScore >= 55 && bScore < 6) {
                    return "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: –¢–æ–ª—å–∫–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ (–Ω–∏–∑–∫–∞—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å).";
                }
                if (aScore < 55 && bScore >= 6) {
                    return "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: –¢–æ–ª—å–∫–æ –ø–∏–ª–æ—Ç (—Å–ª–∞–±–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–∏–ª—å–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É).";
                }
                if (aScore === 0 && bScore === 0) {
                    return "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Ü–µ–Ω–∫–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é.";
                }
                return "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π.";
            }, [–∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–ø—Ä–æ—Ü–µ–Ω—Ç, –∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏]);

            const –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ–†–µ—à–µ–Ω–∏–µ = overrideDecision || helperSuggestion.replace("–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: ", "");

            const —Ñ–∏–Ω–∞–ª—å–Ω–∞—è–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–¢–µ–∫—Å—Ç = useMemo(() => {
                if (overrideDecision) {
                    return overrideDecision;
                }
                if (helperSuggestion.startsWith("–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: ")) {
                    return helperSuggestion.replace("–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å: ", "");
                }
                return "–¢—Ä–µ–±—É–µ—Ç –æ—Ü–µ–Ω–∫–∏";
            }, [overrideDecision, helperSuggestion]);

            const mainContainerClass = "min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100 flex flex-col";
            const contentWrapperClass = "flex-1 flex flex-col max-w-6xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8";
            const sectionCardClass = "bg-white dark:bg-slate-800 shadow-sm rounded-xl border border-slate-200 dark:border-slate-700 mb-4 sm:mb-6 fade-in";
            const sectionHeaderClass = "flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b border-slate-200 dark:border-slate-700 cursor-pointer";
            const sectionBodyClass = "px-4 sm:px-6 py-4 sm:py-5";
            const inputBaseClass = "w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition";
            const labelClass = "block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-1";
            const textareaClass = "w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm min-h-[4rem] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition";
            const badgeClassBase = "inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold border";

            return (
                <div className={mainContainerClass}>
                    <header className="border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur sticky top-0 z-20">
                        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <span className="inline-flex items-center justify-center h-8 w-8 rounded-lg bg-blue-600 text-white text-sm font-bold">
                                    –¢–ò–ú
                                </span>
                                <div>
                                    <div className="text-sm font-semibold tracking-tight">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –ú–æ—Å–∫–≤—ã</div>
                                    <div className="text-[11px] text-slate-500 dark:text-slate-400">
                                        –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
                                        <span className={`ml-2 px-1.5 py-0.5 rounded text-xs ${
                                            backendStatus === 'connected' 
                                                ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' 
                                                : backendStatus === 'checking'
                                                ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200'
                                                : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'
                                        }`}>
                                            {backendStatus === 'connected' ? '–ë—ç–∫–µ–Ω–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω' : 
                                             backendStatus === 'checking' ? '–ü—Ä–æ–≤–µ—Ä–∫–∞...' : '–ë—ç–∫–µ–Ω–¥ –æ—Ç–∫–ª—é—á–µ–Ω'}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <nav className="flex items-center gap-2 text-sm font-medium">
                                <button
                                    type="button"
                                    onClick={() => setActiveTab("new")}
                                    className={`px-3 py-1.5 rounded-full transition text-xs sm:text-sm ${
                                        activeTab === "new"
                                            ? "bg-blue-600 text-white shadow-sm"
                                            : "text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"
                                    }`}
                                >
                                    –ù–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞
                                </button>
                                <button
                                    type="button"
                                    onClick={() => {
                                        setActiveTab("projects");
                                        loadProjects();
                                    }}
                                    className={`px-3 py-1.5 rounded-full transition text-xs sm:text-sm ${
                                        activeTab === "projects"
                                            ? "bg-blue-600 text-white shadow-sm"
                                            : "text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"
                                    }`}
                                >
                                    –ü—Ä–æ–µ–∫—Ç—ã
                                </button>
                            </nav>
                        </div>
                    </header>

                    <main className={contentWrapperClass}>
                        {activeTab === "new" ? (
                            <div className="flex flex-col gap-4 sm:gap-6 lg:gap-8">
                                {/* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}
                                <div className="flex flex-wrap gap-2 justify-between items-center p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700">
                                    <div className="flex gap-2">
                                        <button
                                            type="button"
                                            onClick={resetForm}
                                            className="px-4 py-2 text-sm bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-200 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition"
                                            disabled={loading}
                                        >
                                            –ù–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞
                                        </button>
                                        <button
                                            type="button"
                                            onClick={saveProject}
                                            disabled={loading}
                                            className="px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2 disabled:opacity-50"
                                        >
                                            {loading && <div className="loading-spinner"></div>}
                                            {currentProjectId ? '–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç'}
                                        </button>
                                    </div>
                                    {currentProjectId && (
                                        <span className="text-xs text-slate-500 dark:text-slate-400 px-3 py-1 bg-slate-100 dark:bg-slate-700 rounded-full">
                                            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: {projectCard.projectName || '–ë–µ–∑—ã–º—è–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç'}
                                        </span>
                                    )}
                                </div>

                                {/* –†–∞–∑–¥–µ–ª A: –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ */}
                                <section className={sectionCardClass}>
                                    <header className={sectionHeaderClass} onClick={() => toggleSection("A")}>
                                        <div className="flex items-center gap-2">
                                            <span className="text-xs font-semibold text-slate-500 dark:text-slate-400">–†–∞–∑–¥–µ–ª A</span>
                                            <h2 className="text-sm sm:text-base font-semibold">–ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                                        </div>
                                        <button type="button" className="text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
                                            {expandedSections.A ? "–°–≤–µ—Ä–Ω—É—Ç—å" : "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"}
                                        </button>
                                    </header>
                                    {expandedSections.A && (
                                        <div className={sectionBodyClass}>
                                            <div className="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                                                <p className="text-xs text-blue-700 dark:text-blue-300">
                                                    üí° <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–æ–º–∞–Ω–¥–æ–π.
                                                </p>
                                            </div>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
                                                <div>
                                                    <label className={labelClass}>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                                                    <input className={inputBaseClass} type="text" value={projectCard.projectName}
                                                        onChange={(e) => handleProjectCardChange("projectName", e.target.value)}
                                                        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" />
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
                                                    <input className={inputBaseClass} type="text" value={projectCard.legalName}
                                                        onChange={(e) => handleProjectCardChange("legalName", e.target.value)}
                                                        placeholder="–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏" />
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–í–µ–±-—Å–∞–π—Ç</label>
                                                    <input className={inputBaseClass} type="url" value={projectCard.website}
                                                        onChange={(e) => handleProjectCardChange("website", e.target.value)}
                                                        placeholder="https://example.com" />
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</label>
                                                    <input className={inputBaseClass} type="text" value={projectCard.contactPerson}
                                                        onChange={(e) => handleProjectCardChange("contactPerson", e.target.value)}
                                                        placeholder="–§–ò–û –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞" />
                                                </div>
                                                <div>
                                                    <label className={labelClass}>Email</label>
                                                    <input className={inputBaseClass} type="email" value={projectCard.email}
                                                        onChange={(e) => handleProjectCardChange("email", e.target.value)}
                                                        placeholder="contact@example.com" />
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                                    <input className={inputBaseClass} type="tel" value={projectCard.phone}
                                                        onChange={(e) => handleProjectCardChange("phone", e.target.value)}
                                                        placeholder="+7..." />
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–ò–Ω–¥—É—Å—Ç—Ä–∏—è</label>
                                                    <select className={inputBaseClass} value={projectCard.industry}
                                                        onChange={(e) => handleProjectCardChange("industry", e.target.value)}>
                                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω–¥—É—Å—Ç—Ä–∏—é</option>
                                                        {–∏–Ω–¥—É—Å—Ç—Ä–∏–∏.map((ind) => <option key={ind} value={ind}>{ind}</option>)}
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞</label>
                                                    <select className={inputBaseClass} value={projectCard.productType}
                                                        onChange={(e) => handleProjectCardChange("productType", e.target.value)}>
                                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                                                        {—Ç–∏–ø—ã–ü—Ä–æ–¥—É–∫—Ç–æ–≤.map((type) => <option key={type} value={type}>{type}</option>)}
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–ú–æ–¥–µ–ª—å –ø—Ä–æ–¥–∞–∂</label>
                                                    <select className={inputBaseClass} value={projectCard.salesModel}
                                                        onChange={(e) => handleProjectCardChange("salesModel", e.target.value)}>
                                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å</option>
                                                        {–º–æ–¥–µ–ª–∏–ü—Ä–æ–¥–∞–∂.map((model) => <option key={model} value={model}>{model}</option>)}
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className={labelClass}>–°—Ç–∞–¥–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞</label>
                                                    <select className={inputBaseClass} value={projectCard.productStage}
                                                        onChange={(e) => handleProjectCardChange("productStage", e.target.value)}>
                                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–¥–∏—é</option>
                                                        {—Å—Ç–∞–¥–∏–∏–ü—Ä–æ–¥—É–∫—Ç–∞.map((stage) => <option key={stage} value={stage}>{stage}</option>)}
                                                    </select>
                                                </div>
                                            </div>
                                            <div className="mt-4 sm:mt-6">
                                                <label className={labelClass}>–¶–µ–ª–µ–≤—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –ú–æ—Å–∫–≤—ã</label>
                                                <div className="grid grid-cols-2 sm:grid-cols-3 gap-2">
                                                    {—Ü–µ–ª–µ–≤—ã–µ–°–µ–≥–º–µ–Ω—Ç—ã.map((segment) => {
                                                        const active = projectCard.targetSegments.includes(segment);
                                                        return (
                                                            <button key={segment} type="button"
                                                                onClick={() => handleTargetSegmentToggle(segment)}
                                                                className={`text-xs sm:text-sm px-2.5 py-1.5 rounded-full border transition ${
                                                                    active
                                                                        ? "bg-blue-600 text-white border-blue-600 shadow-sm"
                                                                        : "bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-200 border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
                                                                }`}>
                                                                {segment}
                                                            </button>
                                                        );
                                                    })}
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </section>

                                {/* –†–∞–∑–¥–µ–ª B: –§–∏–ª—å—Ç—Ä—ã –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ */}
                                <section className={sectionCardClass}>
                                    <header className={sectionHeaderClass} onClick={() => toggleSection("B")}>
                                        <div className="flex items-center gap-2">
                                            <span className="text-xs font-semibold text-slate-500 dark:text-slate-400">–†–∞–∑–¥–µ–ª B</span>
                                            <h2 className="text-sm sm:text-base font-semibold">–§–∏–ª—å—Ç—Ä—ã –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏</h2>
                                        </div>
                                        <button type="button" className="text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
                                            {expandedSections.B ? "–°–≤–µ—Ä–Ω—É—Ç—å" : "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"}
                                        </button>
                                    </header>
                                    {expandedSections.B && (
                                        <div className={sectionBodyClass}>
                                            <div className="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                                                <p className="text-xs text-blue-700 dark:text-blue-300">
                                                    ‚ö†Ô∏è <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤—Å–µ–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∏ –Ω–µ –∏–º–µ—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –¥–æ–ø—É—Å–∫–∞ –∫ –æ—Ü–µ–Ω–∫–µ.
                                                </p>
                                            </div>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                <div>
                                                    <h3 className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2">–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è</h3>
                                                    <div className="space-y-2">
                                                        <label className="flex items-center justify-between gap-2 text-sm">
                                                            <span className="text-slate-700 dark:text-slate-200">–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º —Å–µ–∫—Ç–æ—Ä–∞–º –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</span>
                                                            <button type="button" onClick={() => handleFilterChange("—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–°–µ–∫—Ç–æ—Ä–∞–º")} className={`relative inline-flex h-5 w-9 rounded-full transition ${filters.—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–°–µ–∫—Ç–æ—Ä–∞–º ? "bg-blue-600" : "bg-slate-300 dark:bg-slate-700"}`}>
                                                                <span className={`absolute top-0.5 h-4 w-4 rounded-full bg-white shadow transform transition ${filters.—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–°–µ–∫—Ç–æ—Ä–∞–º ? "translate-x-4" : "translate-x-0.5"}`} />
                                                            </button>
                                                        </label>
                                                        <label className="flex items-center justify-between gap-2 text-sm">
                                                            <span className="text-slate-700 dark:text-slate-200">–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º</span>
                                                            <button type="button" onClick={() => handleFilterChange("—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º")} className={`relative inline-flex h-5 w-9 rounded-full transition ${filters.—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º ? "bg-blue-600" : "bg-slate-300 dark:bg-slate-700"}`}>
                                                                <span className={`absolute top-0.5 h-4 w-4 rounded-full bg-white shadow transform transition ${filters.—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º ? "translate-x-4" : "translate-x-0.5"}`} />
                                                            </button>
                                                        </label>
                                                        <label className="flex items-center justify-between gap-2 text-sm">
                                                            <span className="text-slate-700 dark:text-slate-200">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã ‚â• 2 —á–µ–ª–æ–≤–µ–∫</span>
                                                            <button type="button" onClick={() => handleFilterChange("–º–∏–Ω–ö–æ–º–∞–Ω–¥–∞")} className={`relative inline-flex h-5 w-9 rounded-full transition ${filters.–º–∏–Ω–ö–æ–º–∞–Ω–¥–∞ ? "bg-blue-600" : "bg-slate-300 dark:bg-slate-700"}`}>
                                                                <span className={`absolute top-0.5 h-4 w-4 rounded-full bg-white shadow transform transition ${filters.–º–∏–Ω–ö–æ–º–∞–Ω–¥–∞ ? "translate-x-4" : "translate-x-0.5"}`} />
                                                            </button>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div>
                                                    <h3 className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏</h3>
                                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
                                                        {['missingDocs', 'outOfFocusIndustry', 'foundersNotFulltime', 'keyCompetencesMissing', 'unusualOwnership', 'shortRunway', 'processesOutsourced', 'otherFlag'].map((flag) => (
                                                            <label key={flag} className="inline-flex items-center gap-2 text-xs sm:text-sm text-slate-700 dark:text-slate-200">
                                                                <input type="checkbox" className="h-4 w-4 rounded border-slate-300 dark:border-slate-600 text-blue-600 focus:ring-blue-500"
                                                                    checked={redFlags[flag]} onChange={(e) => handleRedFlagChange(flag, e.target.checked)} />
                                                                <span>{{
                                                                    missingDocs: '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã',
                                                                    outOfFocusIndustry: '–í–Ω–µ —Ñ–æ–∫—É—Å–Ω–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏',
                                                                    foundersNotFulltime: '–û—Å–Ω–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–Ω–æ–µ –≤—Ä–µ–º—è',
                                                                    keyCompetencesMissing: '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏',
                                                                    unusualOwnership: '–ù–µ–æ–±—ã—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏',
                                                                    shortRunway: 'Runway < 3 –º–µ—Å—è—Ü–µ–≤',
                                                                    processesOutsourced: '–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—É—Ç—Å–æ—Ä—Å–µ–Ω—ã',
                                                                    otherFlag: '–î—Ä—É–≥–æ–µ'
                                                                }[flag]}</span>
                                                            </label>
                                                        ))}
                                                    </div>
                                                    {redFlags.otherFlag && (
                                                        <div className="mt-2">
                                                            <textarea className={textareaClass} placeholder="–û–ø–∏—à–∏—Ç–µ –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏"
                                                                value={redFlags.otherText} onChange={(e) => handleRedFlagChange("otherText", e.target.value)} />
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                            <div className="mt-4 flex items-center justify-between flex-wrap gap-3">
                                                <div>
                                                    <span className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">–°—Ç–∞—Ç—É—Å</span>
                                                    <div className="mt-1">
                                                        <span className={`${badgeClassBase} ${
                                                            admittedToEvaluation
                                                                ? "bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-700"
                                                                : "bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-700"
                                                        }`}>
                                                            <span className="w-2 h-2 rounded-full mr-2 bg-current opacity-80" />
                                                            {admittedToEvaluation ? "–î–æ–ø—É—â–µ–Ω –∫ –æ—Ü–µ–Ω–∫–µ" : "–û—Ç–∫–ª–æ–Ω–µ–Ω –Ω–∞ –£—Ä–æ–≤–Ω–µ 0"}
                                                        </span>
                                                    </div>
                                                </div>
                                                <p className="text-xs text-slate-500 dark:text-slate-400 max-w-md">
                                                    –°—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∏ –Ω–∞–ª–∏—á–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
                                                </p>
                                            </div>
                                        </div>
                                    )}
                                </section>

                                {/* –†–∞–∑–¥–µ–ª C: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ */}
                                <section className={sectionCardClass}>
                                    <header className={sectionHeaderClass} onClick={() => toggleSection("C")}>
                                        <div className="flex items-center gap-2">
                                            <span className="text-xs font-semibold text-slate-500 dark:text-slate-400">–†–∞–∑–¥–µ–ª C</span>
                                            <h2 className="text-sm sm:text-base font-semibold">–û—Ü–µ–Ω–∫–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
                                        </div>
                                        <button type="button" className="text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
                                            {expandedSections.C ? "–°–≤–µ—Ä–Ω—É—Ç—å" : "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"}
                                        </button>
                                    </header>
                                    {expandedSections.C && (
                                        <div className={sectionBodyClass}>
                                            <div className="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                                                <p className="text-xs text-blue-700 dark:text-blue-300">
                                                    üìä <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –û—Ü–µ–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ø–æ 8-–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∫–∞–ª—É 0-2, –≥–¥–µ 0 - —Å–ª–∞–±–æ, 2 - –æ—Ç–ª–∏—á–Ω–æ.
                                                </p>
                                            </div>
                                            <div className="overflow-x-auto">
                                                <table className="min-w-full text-xs sm:text-sm border-collapse">
                                                    <thead>
                                                        <tr className="border-b border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400">
                                                            <th className="text-left py-2 pr-2 font-semibold">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                                                            <th className="text-center py-2 px-2 font-semibold">–ë–∞–ª–ª (0/1/2)</th>
                                                            <th className="text-center py-2 px-2 font-semibold">–í–µ—Å</th>
                                                            <th className="text-center py-2 px-2 font-semibold">–í–∑–≤–µ—à–µ–Ω–Ω—ã–π</th>
                                                            <th className="text-left py-2 pl-2 font-semibold">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {Object.entries({
                                                            –ø—Ä–æ–¥—É–∫—Ç: '–ü—Ä–æ–¥—É–∫—Ç / –ò–¥–µ—è',
                                                            —Ä—ã–Ω–æ–∫: '–†—ã–Ω–æ–∫',
                                                            –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: '–ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å',
                                                            —Ç—Ä–µ–∫—à–Ω: '–¢—Ä–µ–∫—à–Ω / –î–∏–Ω–∞–º–∏–∫–∞',
                                                            –∫–æ–º–∞–Ω–¥–∞: '–ö–æ–º–∞–Ω–¥–∞',
                                                            –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: '–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è',
                                                            —Ñ–∏–Ω–∞–Ω—Å—ã: '–§–∏–Ω–∞–Ω—Å—ã',
                                                            —Å–¥–µ–ª–∫–∞: '–°–¥–µ–ª–∫–∞'
                                                        }).map(([key, label]) => {
                                                            const value = –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞[key];
                                                            const weight = –≤–µ—Å–∞–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏[key];
                                                            const weighted = value.–±–∞–ª–ª !== null ? value.–±–∞–ª–ª * weight : 0;
                                                            return (
                                                                <tr key={key} className="border-t border-slate-100 dark:border-slate-800 align-top">
                                                                    <td className="py-2 pr-2 text-xs sm:text-sm text-slate-800 dark:text-slate-100 whitespace-nowrap">{label}</td>
                                                                    <td className="py-2 px-2 text-center">
                                                                        <div className="inline-flex items-center gap-1 sm:gap-2">
                                                                            {[0, 1, 2].map((s) => (
                                                                                <label key={s} className="inline-flex items-center gap-1 text-[11px] sm:text-xs">
                                                                                    <input type="radio" name={`invest-${key}`} value={s} checked={value.–±–∞–ª–ª === s}
                                                                                        onChange={() => handle–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞Change(key, s)} className="h-3 w-3 text-blue-600 focus:ring-blue-500" />
                                                                                    <span>{s}</span>
                                                                                </label>
                                                                            ))}
                                                                        </div>
                                                                    </td>
                                                                    <td className="py-2 px-2 text-center text-xs sm:text-sm text-slate-700 dark:text-slate-200">{weight}</td>
                                                                    <td className="py-2 px-2 text-center text-xs sm:text-sm text-slate-800 dark:text-slate-100">{weighted}</td>
                                                                    <td className="py-2 pl-2">
                                                                        <textarea className={`${textareaClass} text-[11px] sm:text-xs`} placeholder="–ö—Ä–∞—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
                                                                            value={value.–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π} onChange={(e) => handle–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–πChange(key, e.target.value)} />
                                                                    </td>
                                                                </tr>
                                                            );
                                                        })}
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div className="mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                                                <div>
                                                    <div className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">–ò—Ç–æ–≥–æ–≤—ã–π –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –±–∞–ª–ª</div>
                                                    <div className="mt-1 text-sm">{–∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–∏—Ç–æ–≥–æ–í–∑–≤–µ—à–µ–Ω–Ω—ã–π} / {–∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–º–∞–∫—Å–ò—Ç–æ–≥}</div>
                                                </div>
                                                <div className="flex-1 max-w-md">
                                                    <div className="flex items-center justify-between text-xs mb-1">
                                                        <span className="font-semibold text-slate-500 dark:text-slate-400">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞, %</span>
                                                        <span className="font-semibold text-slate-800 dark:text-slate-100">{–∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–ø—Ä–æ—Ü–µ–Ω—Ç}%</span>
                                                    </div>
                                                    <div className="h-2 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden">
                                                        <div className="h-full rounded-full bg-blue-500 transition-all" style={{ width: `${Math.min(–∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–ø—Ä–æ—Ü–µ–Ω—Ç, 100)}%` }} />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </section>

                                {/* –†–∞–∑–¥–µ–ª D: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ */}
                                <section className={sectionCardClass}>
                                    <header className={sectionHeaderClass} onClick={() => toggleSection("D")}>
                                        <div className="flex items-center gap-2">
                                            <span className="text-xs font-semibold text-slate-500 dark:text-slate-400">–†–∞–∑–¥–µ–ª D</span>
                                            <h2 className="text-sm sm:text-base font-semibold">–û—Ü–µ–Ω–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏</h2>
                                        </div>
                                        <button type="button" className="text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
                                            {expandedSections.D ? "–°–≤–µ—Ä–Ω—É—Ç—å" : "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"}
                                        </button>
                                    </header>
                                    {expandedSections.D && (
                                        <div className={sectionBodyClass}>
                                            <div className="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                                                <p className="text-xs text-blue-700 dark:text-blue-300">
                                                    üöá <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –û—Ü–µ–Ω–∏—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ú–æ—Å–∫–≤—ã. –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç.
                                                </p>
                                            </div>
                                            <div className="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
                                                {Object.entries({
                                                    –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: { title: '–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞', description: '–£—Ä–æ–≤–µ–Ω—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –∑—Ä–µ–ª–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∞.' },
                                                    –∫–∞–Ω–∞–ª—ã: { title: '–ö–∞–Ω–∞–ª—ã –ø—Ä–æ–¥–∞–∂', description: '–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ –∏ –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª–∞–º–∏.' },
                                                    –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: { title: '–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å', description: '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ –∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Ä—ã–Ω–∫–∞—Ö.' },
                                                    –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å: { title: '–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ –ú–æ—Å–∫–≤—ã', description: '–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º use case –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ.' },
                                                    –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: { title: '–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è —Å—Ä–µ–¥–∞', description: '–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–ª–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ú–æ—Å–∫–≤—ã.' },
                                                    –∫–æ–º–∞–Ω–¥–∞: { title: '–ö–æ–º–∞–Ω–¥–∞ (–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞)', description: '–ù–∞–ª–∏—á–∏–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –ø–∏–ª–æ—Ç–æ–≤.', maxScore: 1 }
                                                }).map(([key, { title, description, maxScore }]) => {
                                                    const value = —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞[key];
                                                    const scores = maxScore === 1 ? [0, 1] : [0, 1, 2];
                                                    return (
                                                        <div key={key} className="border border-slate-200 dark:border-slate-700 rounded-lg px-3 sm:px-4 py-3 sm:py-4 bg-slate-50/60 dark:bg-slate-900/40">
                                                            <div className="flex items-center justify-between gap-2">
                                                                <div>
                                                                    <h3 className="text-xs sm:text-sm font-semibold text-slate-800 dark:text-slate-100">{title}</h3>
                                                                    <p className="text-[11px] text-slate-500 dark:text-slate-400 mt-0.5">{description}</p>
                                                                </div>
                                                                <div className="text-xs font-semibold text-slate-600 dark:text-slate-300">–ë–∞–ª–ª</div>
                                                            </div>
                                                            <div className="mt-2 flex items-center flex-wrap gap-2">
                                                                {scores.map((s) => (
                                                                    <label key={s} className="inline-flex items-center gap-1 text-[11px] sm:text-xs text-slate-700 dark:text-slate-200">
                                                                        <input type="radio" name={`transport-${key}`} value={s} checked={value.–±–∞–ª–ª === s}
                                                                            onChange={() => handle–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞Change(key, s)} className="h-3 w-3 text-blue-600 focus:ring-blue-500" />
                                                                        <span>{s}</span>
                                                                    </label>
                                                                ))}
                                                            </div>
                                                            <div className="mt-2">
                                                                <textarea className={`${textareaClass} text-[11px] sm:text-xs`} placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ —ç—Ç–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é"
                                                                    value={value.–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π} onChange={(e) => handle–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–πChange(key, e.target.value)} />
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                            <div className="mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                                                <div>
                                                    <div className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">–ò—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–ª —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏</div>
                                                    <div className="mt-1">
                                                        <span className={`${badgeClassBase} bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-700`}>
                                                            {–∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏} –±–∞–ª–ª–æ–≤
                                                        </span>
                                                    </div>
                                                </div>
                                                <div className="flex-1 max-w-md">
                                                    <div className="h-2 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden">
                                                        <div className="h-full rounded-full bg-green-500 transition-all" style={{ width: `${Math.min((–∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏ / 11) * 100, 100)}%` }} />
                                                    </div>
                                                    <div className="text-[11px] text-slate-500 dark:text-slate-400 mt-1 text-right">–ü–æ—Ä–æ–≥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è: 6 –±–∞–ª–ª–æ–≤</div>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </section>

                                {/* –†–∞–∑–¥–µ–ª E: –ú–∞—Ç—Ä–∏—Ü–∞ —Ä–µ—à–µ–Ω–∏–π */}
                                <section className={sectionCardClass}>
                                    <header className={sectionHeaderClass} onClick={() => toggleSection("E")}>
                                        <div className="flex items-center gap-2">
                                            <span className="text-xs font-semibold text-slate-500 dark:text-slate-400">–†–∞–∑–¥–µ–ª E</span>
                                            <h2 className="text-sm sm:text-base font-semibold">–ú–∞—Ç—Ä–∏—Ü–∞ —Ä–µ—à–µ–Ω–∏–π</h2>
                                        </div>
                                        <button type="button" className="text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200">
                                            {expandedSections.E ? "–°–≤–µ—Ä–Ω—É—Ç—å" : "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"}
                                        </button>
                                    </header>
                                    {expandedSections.E && (
                                        <div className={sectionBodyClass}>
                                            <div className="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                                                <p className="text-xs text-blue-700 dark:text-blue-300">
                                                    üéØ <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–æ–∫. –≠–∫—Å–ø–µ—Ä—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
                                                </p>
                                            </div>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                                                <div className="space-y-3">
                                                    <div>
                                                        <div className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞, %</div>
                                                        <div className="mt-1 text-lg font-semibold">{–∏—Ç–æ–≥–∏–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏.–ø—Ä–æ—Ü–µ–Ω—Ç}%</div>
                                                    </div>
                                                    <div>
                                                        <div className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞</div>
                                                        <div className="mt-1 text-lg font-semibold">{–∏—Ç–æ–≥–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π–û—Ü–µ–Ω–∫–∏} –±–∞–ª–ª–æ–≤</div>
                                                    </div>
                                                    <div className="text-xs text-slate-500 dark:text-slate-400">
                                                        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø–æ—Ä–æ–≥–∞—Ö: –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ ‚â• 55% –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ ‚â• 6.
                                                    </div>
                                                </div>
                                                <div className="space-y-3">
                                                    <div>
                                                        <div className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å</div>
                                                        <div className="mt-1 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2">
                                                            {helperSuggestion}
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <div className="text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-1">–≠–∫—Å–ø–µ—Ä—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</div>
                                                        <select className={inputBaseClass} value={overrideDecision} onChange={(e) => setOverrideDecision(e.target.value)}>
                                                            <option value="">–ë–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é)</option>
                                                            <option value="–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∫ –ø–æ–ª–Ω–æ–π –æ—Ü–µ–Ω–∫–µ">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∫ –ø–æ–ª–Ω–æ–π –æ—Ü–µ–Ω–∫–µ</option>
                                                            <option value="–¢–æ–ª—å–∫–æ –ø–∏–ª–æ—Ç">–¢–æ–ª—å–∫–æ –ø–∏–ª–æ—Ç</option>
                                                            <option value="–¢–æ–ª—å–∫–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏">–¢–æ–ª—å–∫–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</option>
                                                            <option value="–û—Ç–∫–ª–æ–Ω–∏—Ç—å">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</option>
                                                        </select>
                                                        <textarea className={`${textareaClass} mt-2`} placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —ç–∫—Å–ø–µ—Ä—Ç–∞ –∫ —Ä–µ—à–µ–Ω–∏—é"
                                                            value={overrideComment} onChange={(e) => setOverrideComment(e.target.value)} />
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="mt-4 text-xs text-slate-500 dark:text-slate-400">
                                                –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å–≤–æ–¥–∫–∏:{" "}
                                                <span className="font-semibold text-slate-800 dark:text-slate-100">
                                                    {—Ñ–∏–Ω–∞–ª—å–Ω–∞—è–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–¢–µ–∫—Å—Ç}
                                                </span>
                                            </div>
                                        </div>
                                    )}
                                </section>
                            </div>
                        ) : (
                            <section className={sectionCardClass}>
                                <header className="flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b border-slate-200 dark:border-slate-700">
                                    <div>
                                        <h2 className="text-sm sm:text-base font-semibold">–ü—Ä–æ–µ–∫—Ç—ã</h2>
                                        <p className="text-xs text-slate-500 dark:text-slate-400">
                                            –ù–∞–π–¥–µ–Ω–æ –ø—Ä–æ–µ–∫—Ç–æ–≤: {projects.length}
                                            {backendStatus !== 'connected' && (
                                                <span className="ml-2 text-amber-600 dark:text-amber-400">
                                                    (–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - –±—ç–∫–µ–Ω–¥ –æ—Ç–∫–ª—é—á–µ–Ω)
                                                </span>
                                            )}
                                        </p>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        {loading && <div className="loading-spinner"></div>}
                                    </div>
                                </header>
                                <div className="px-4 sm:px-6 py-4 sm:py-5 overflow-x-auto">
                                    {projects.length === 0 ? (
                                        <div className="text-center py-8 text-slate-500 dark:text-slate-400">
                                            <p>–ü—Ä–æ–µ–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –æ—Ü–µ–Ω–∫—É!</p>
                                        </div>
                                    ) : (
                                        <table className="min-w-full text-xs sm:text-sm border-collapse">
                                            <thead>
                                                <tr className="border-b border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400">
                                                    <th className="text-left py-2 pr-2 font-semibold">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</th>
                                                    <th className="text-left py-2 px-2 font-semibold">–ò–Ω–¥—É—Å—Ç—Ä–∏—è</th>
                                                    <th className="text-center py-2 px-2 font-semibold">–ò–Ω–≤–µ—Å—Ç. –æ—Ü–µ–Ω–∫–∞ %</th>
                                                    <th className="text-center py-2 px-2 font-semibold">–¢—Ä–∞–Ω—Å–ø. –æ—Ü–µ–Ω–∫–∞</th>
                                                    <th className="text-left py-2 px-2 font-semibold">–°—Ç–∞—Ç—É—Å</th>
                                                    <th className="text-center py-2 pl-2 font-semibold">–î–µ–π—Å—Ç–≤–∏—è</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {projects.map((project) => (
                                                    <tr key={project.id} className="border-t border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-900/40 transition">
                                                        <td className="py-2 pr-2 text-slate-800 dark:text-slate-100 whitespace-nowrap">{project.name}</td>
                                                        <td className="py-2 px-2 text-slate-700 dark:text-slate-200 whitespace-nowrap">{project.industry}</td>
                                                        <td className="py-2 px-2 text-center">{project.–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è–û—Ü–µ–Ω–∫–∞}</td>
                                                        <td className="py-2 px-2 text-center">{project.—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è–û—Ü–µ–Ω–∫–∞}</td>
                                                        <td className="py-2 px-2 text-slate-700 dark:text-slate-200 whitespace-nowrap">{project.status}</td>
                                                        <td className="py-2 pl-2 text-center">
                                                            <button type="button" onClick={() => loadProject(project.id)}
                                                                className="inline-flex items-center px-2.5 py-1 text-[11px] sm:text-xs rounded-full bg-blue-600 text-white hover:bg-blue-700 transition mr-2">
                                                                –û—Ç–∫—Ä—ã—Ç—å
                                                            </button>
                                                            <button type="button" onClick={() => deleteProject(project.id, project.name)}
                                                                className="inline-flex items-center px-2.5 py-1 text-[11px] sm:text-xs rounded-full bg-red-600 text-white hover:bg-red-700 transition">
                                                                –£–¥–∞–ª–∏—Ç—å
                                                            </button>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    )}
                                </div>
                            </section>
                        )}
                    </main>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
