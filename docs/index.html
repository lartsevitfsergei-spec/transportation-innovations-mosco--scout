<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –ú–æ—Å–∫–≤—ã - –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // API configuration - –í–ê–® –ë–≠–ö–ï–ù–î URL
        const API_BASE_URL = 'https://transportation-innovations-mosco-scout.onrender.com/api';

        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
        const –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ = ["–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–§–∏–Ω—Ç–µ—Ö", "–ú–µ–¥—Ç–µ—Ö", "–ì–æ—Å—Ç–µ—Ö"];
        const —Ç–∏–ø—ã–ü—Ä–æ–¥—É–∫—Ç–æ–≤ = ["–°–æ—Ñ—Ç", "–ñ–µ–ª–µ–∑–æ", "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", "–í–µ–±"];
        const –º–æ–¥–µ–ª–∏–ü—Ä–æ–¥–∞–∂ = ["B2B", "B2C", "B2B2C"];
        const —Å—Ç–∞–¥–∏–∏–ü—Ä–æ–¥—É–∫—Ç–∞ = ["–ò–¥–µ—è", "MVP", "–†–∞–±–æ—Ç–∞–µ—Ç", "–†–æ—Å—Ç", "–ó—Ä–µ–ª–æ—Å—Ç—å"];
        const —Ü–µ–ª–µ–≤—ã–µ–°–µ–≥–º–µ–Ω—Ç—ã = [
            "–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –º–µ—Ç—Ä–æ", "–ù–∞–∑–µ–º–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ü–∞—Ä–∫–æ–≤–∫–∏", 
            "–¶–µ–Ω—Ç—Ä ITS", "–ü–∞—Å—Å–∞–∂–∏—Ä—ã", "B2G", "B2B"
        ];

        // –í–µ—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
        const –≤–µ—Å–∞–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π–û—Ü–µ–Ω–∫–∏ = {
            –ø—Ä–æ–¥—É–∫—Ç: 2, —Ä—ã–Ω–æ–∫: 2, –±–∏–∑–Ω–µ—Å–ú–æ–¥–µ–ª—å: 1, —Ç—Ä–µ–∫—à–Ω: 2,
            –∫–æ–º–∞–Ω–¥–∞: 4, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: 1, —Ñ–∏–Ω–∞–Ω—Å—ã: 1, —Å–¥–µ–ª–∫–∞: 1
        };
        const –º–∞–∫—Å–ë–∞–ª–ª–ü–æ—Å–ª–µMVP = 28;

        // API service
        const api = {
            async getProjects() {
                const response = await axios.get(`${API_BASE_URL}/projects`);
                return response.data;
            },
            async getProject(id) {
                const response = await axios.get(`${API_BASE_URL}/projects/${id}`);
                return response.data;
            },
            async createProject(projectData) {
                const response = await axios.post(`${API_BASE_URL}/projects`, projectData);
                return response.data;
            },
            async updateProject(id, projectData) {
                const response = await axios.put(`${API_BASE_URL}/projects/${id}`, projectData);
                return response.data;
            },
            async deleteProject(id) {
                await axios.delete(`${API_BASE_URL}/projects/${id}`);
            },
            async healthCheck() {
                try {
                    const response = await axios.get(`${API_BASE_URL}/health`);
                    return response.data.status === 'OK';
                } catch (error) {
                    return false;
                }
            }
        };

        // –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function App() {
            const [activeTab, setActiveTab] = useState("new");
            const [projects, setProjects] = useState([]);
            const [loading, setLoading] = useState(false);
            const [backendStatus, setBackendStatus] = useState('checking');

            // –°–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º...
            const [projectCard, setProjectCard] = useState({
                projectName: "", legalName: "", website: "", contactPerson: "",
                email: "", phone: "", industry: "", productType: "", salesModel: "",
                productStage: "", targetSegments: []
            });

            // –î–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏ –ø–æ–∫–∞–∂—É —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
            // –ü–æ–ª–Ω—ã–π –∫–æ–¥ –±—É–¥–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º

            useEffect(() => {
                checkBackendStatus();
                loadProjects();
            }, []);

            const checkBackendStatus = async () => {
                const isHealthy = await api.healthCheck();
                setBackendStatus(isHealthy ? 'connected' : 'disconnected');
            };

            const loadProjects = async () => {
                setLoading(true);
                try {
                    const data = await api.getProjects();
                    setProjects(data);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤:', error);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="min-h-screen bg-slate-50">
                    <header className="border-b border-slate-200 bg-white/80 backdrop-blur sticky top-0 z-20">
                        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <span className="inline-flex items-center justify-center h-8 w-8 rounded-lg bg-blue-600 text-white text-sm font-bold">
                                    –¢–ò–ú
                                </span>
                                <div>
                                    <div className="text-sm font-semibold tracking-tight">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –ú–æ—Å–∫–≤—ã</div>
                                    <div className="text-[11px] text-slate-500">
                                        –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
                                        <span className={`ml-2 px-1.5 py-0.5 rounded text-xs ${
                                            backendStatus === 'connected' 
                                                ? 'bg-green-100 text-green-800' 
                                                : 'bg-red-100 text-red-800'
                                        }`}>
                                            {backendStatus === 'connected' ? '–ë—ç–∫–µ–Ω–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω' : '–ë—ç–∫–µ–Ω–¥ –æ—Ç–∫–ª—é—á–µ–Ω'}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <nav className="flex items-center gap-2 text-sm font-medium">
                                <button
                                    onClick={() => setActiveTab("new")}
                                    className={`px-3 py-1.5 rounded-full transition ${
                                        activeTab === "new"
                                            ? "bg-blue-600 text-white shadow-sm"
                                            : "text-slate-600 hover:bg-slate-100"
                                    }`}
                                >
                                    –ù–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞
                                </button>
                                <button
                                    onClick={() => {
                                        setActiveTab("projects");
                                        loadProjects();
                                    }}
                                    className={`px-3 py-1.5 rounded-full transition ${
                                        activeTab === "projects"
                                            ? "bg-blue-600 text-white shadow-sm"
                                            : "text-slate-600 hover:bg-slate-100"
                                    }`}
                                >
                                    –ü—Ä–æ–µ–∫—Ç—ã
                                </button>
                            </nav>
                        </div>
                    </header>

                    <main className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {activeTab === "new" ? (
                            <div className="text-center py-16">
                                <h1 className="text-2xl font-bold text-slate-800 mb-4">
                                    –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
                                </h1>
                                <p className="text-slate-600 mb-8">
                                    –ù–∞—á–Ω–∏—Ç–µ –Ω–æ–≤—É—é –æ—Ü–µ–Ω–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –∏–Ω–Ω–æ–≤–∞—Ü–∏–π –ú–æ—Å–∫–≤—ã
                                </p>
                                <div className="bg-white rounded-xl border border-slate-200 p-8 max-w-2xl mx-auto">
                                    <p className="text-slate-700 mb-4">
                                        üéâ –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ!
                                    </p>
                                    <p className="text-sm text-slate-500">
                                        –ë—ç–∫–µ–Ω–¥: {backendStatus === 'connected' ? '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω' : '‚ùå –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω'}
                                    </p>
                                </div>
                            </div>
                        ) : (
                            <div className="bg-white rounded-xl border border-slate-200 p-6">
                                <h2 className="text-lg font-semibold mb-4">–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</h2>
                                {projects.length === 0 ? (
                                    <p className="text-slate-500 text-center py-8">
                                        –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
                                    </p>
                                ) : (
                                    <div className="space-y-3">
                                        {projects.map(project => (
                                            <div key={project.id} className="border border-slate-200 rounded-lg p-4">
                                                <h3 className="font-semibold">{project.name}</h3>
                                                <p className="text-sm text-slate-600">{project.industry}</p>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}
                    </main>
                </div>
            );
        }

        // –†–µ–Ω–¥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
